{"ast":null,"code":"var _jsxFileName = \"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/src/components/SignUp/Signup.js\";\nimport * as React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport \"./Signup.css\";\nimport { Avatar, Button, Grow } from \"@material-ui/core\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport ResponsiveAppBar from \"./../NavigationBar/ResponsiveAppBar\";\n\nconst SignUp = () => {\n  const history = useHistory();\n  const [register, setRegister] = useState(false);\n  const [ErrMessage, setErrMessage] = useState(\"\");\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n    const user = {\n      username: data.get(\"email\"),\n      password: data.get(\"password\")\n    }; // console.log(user);\n\n    fetch(\"https://petition-rate.herokuapp.com/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      localStorage.setItem(\"token\", data.token);\n      const isSignedUp = data.isSignedUp;\n      setRegister(isSignedUp);\n      setErrMessage(data.message);\n\n      if (isSignedUp) {\n        history.push(\"/signin\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetch(\"https://petition-rate.herokuapp.com/ssUserAuth\", {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"token\")\n      }\n    }).then(res => res.json()).then(data => data.isLoggedIn ? history.push(\"/home\") : null).catch(err => console.log(err));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ResponsiveAppBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grow, {\n    in: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    style: {\n      \"margin-top\": \"150px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      marginTop: 8,\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    sx: {\n      m: 1,\n      bgcolor: \"secondary.main\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(Box, {\n    component: \"form\",\n    onSubmit: handleSubmit,\n    noValidate: true,\n    sx: {\n      mt: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Email Address\",\n    name: \"email\",\n    autoComplete: \"email\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    sx: {\n      mt: 3,\n      mb: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"Create the account\"), register ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"success_message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"You Are Registered Successfully\") : ErrMessage ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"err_message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Username or email has been taken!\") : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"normal_message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, \"Please Register\"))))));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/src/components/SignUp/Signup.js"],"names":["React","useHistory","useEffect","useState","Avatar","Button","Grow","CssBaseline","TextField","Box","Typography","Container","ResponsiveAppBar","SignUp","history","register","setRegister","ErrMessage","setErrMessage","handleSubmit","event","preventDefault","data","FormData","currentTarget","user","username","get","password","fetch","method","headers","body","JSON","stringify","then","res","json","localStorage","setItem","token","isSignedUp","message","push","getItem","isLoggedIn","catch","err","console","log","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","mb"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAmC,OAAnC;AACA,OAAO,cAAP;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,IAAzB,QAAqC,mBAArC;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AAEA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,qCAA7B;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACnB,QAAMC,OAAO,GAAGb,UAAU,EAA1B;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACc,UAAD,EAAaC,aAAb,IAA8Bf,QAAQ,CAAC,EAAD,CAA5C;;AAEA,QAAMgB,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,IAAI,GAAG,IAAIC,QAAJ,CAAaH,KAAK,CAACI,aAAnB,CAAb;AACA,UAAMC,IAAI,GAAG;AACXC,MAAAA,QAAQ,EAAEJ,IAAI,CAACK,GAAL,CAAS,OAAT,CADC;AAEXC,MAAAA,QAAQ,EAAEN,IAAI,CAACK,GAAL,CAAS,UAAT;AAFC,KAAb,CAH8B,CAQ9B;;AAEAE,IAAAA,KAAK,CAAC,4CAAD,EAA+C;AAClDC,MAAAA,MAAM,EAAE,MAD0C;AAElDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFyC;AAKlDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AAL4C,KAA/C,CAAL,CAOGU,IAPH,CAOSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPjB,EAQGF,IARH,CAQSb,IAAD,IAAU;AACdgB,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BjB,IAAI,CAACkB,KAAnC;AACA,YAAMC,UAAU,GAAGnB,IAAI,CAACmB,UAAxB;AACAzB,MAAAA,WAAW,CAACyB,UAAD,CAAX;AACAvB,MAAAA,aAAa,CAACI,IAAI,CAACoB,OAAN,CAAb;;AACA,UAAID,UAAJ,EAAgB;AACd3B,QAAAA,OAAO,CAAC6B,IAAR,CAAa,SAAb;AACD;AACF,KAhBH;AAiBD,GA3BD;;AA6BAzC,EAAAA,SAAS,CAAC,MAAM;AACd2B,IAAAA,KAAK,CAAC,gDAAD,EAAmD;AACtDE,MAAAA,OAAO,EAAE;AACP,0BAAkBO,YAAY,CAACM,OAAb,CAAqB,OAArB;AADX;AAD6C,KAAnD,CAAL,CAKGT,IALH,CAKSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EALjB,EAMGF,IANH,CAMSb,IAAD,IAAWA,IAAI,CAACuB,UAAL,GAAkB/B,OAAO,CAAC6B,IAAR,CAAa,OAAb,CAAlB,GAA0C,IAN7D,EAOGG,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;AAQD,GATQ,EASN,EATM,CAAT;AAWA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,IAAD;AAAM,IAAA,EAAE,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,SAAS,EAAC,MADZ;AAEE,IAAA,QAAQ,EAAC,IAFX;AAGE,IAAA,KAAK,EAAE;AAAE,oBAAc;AAAhB,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAME,oBAAC,GAAD;AACE,IAAA,EAAE,EAAE;AACFG,MAAAA,SAAS,EAAE,CADT;AAEFC,MAAAA,OAAO,EAAE,MAFP;AAGFC,MAAAA,aAAa,EAAE,QAHb;AAIFC,MAAAA,UAAU,EAAE;AAJV,KADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAE;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,OAAO,EAAE;AAAjB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,eASE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,IAAtB;AAA2B,IAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATF,eAYE,oBAAC,GAAD;AACE,IAAA,SAAS,EAAC,MADZ;AAEE,IAAA,QAAQ,EAAEpC,YAFZ;AAGE,IAAA,UAAU,MAHZ;AAIE,IAAA,EAAE,EAAE;AAAEqC,MAAAA,EAAE,EAAE;AAAN,KAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,SAAD;AACE,IAAA,MAAM,EAAC,QADT;AAEE,IAAA,QAAQ,MAFV;AAGE,IAAA,SAAS,MAHX;AAIE,IAAA,EAAE,EAAC,OAJL;AAKE,IAAA,KAAK,EAAC,eALR;AAME,IAAA,IAAI,EAAC,OANP;AAOE,IAAA,YAAY,EAAC,OAPf;AAQE,IAAA,SAAS,MARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAgBE,oBAAC,SAAD;AACE,IAAA,MAAM,EAAC,QADT;AAEE,IAAA,QAAQ,MAFV;AAGE,IAAA,SAAS,MAHX;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAC,UALR;AAME,IAAA,IAAI,EAAC,UANP;AAOE,IAAA,EAAE,EAAC,UAPL;AAQE,IAAA,YAAY,EAAC,kBARf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,eA2BE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,MAFX;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,EAAE,EAAE;AAAEA,MAAAA,EAAE,EAAE,CAAN;AAASC,MAAAA,EAAE,EAAE;AAAb,KAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA3BF,EAmCG1C,QAAQ,gBACP;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADO,GAELE,UAAU,gBACZ;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADY,gBAEV;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAvCN,CAZF,CANF,CADF,CAFF,CADF;AAqED,CAlHD;;AAoHA,eAAeJ,MAAf","sourcesContent":["import * as React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useEffect, useState} from \"react\";\r\nimport \"./Signup.css\"\r\nimport { Avatar, Button, Grow } from \"@material-ui/core\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport ResponsiveAppBar from \"./../NavigationBar/ResponsiveAppBar\";\r\n\r\nconst SignUp = () => {\r\n  const history = useHistory();\r\n  const [register, setRegister] = useState(false);\r\n  const [ErrMessage, setErrMessage] = useState(\"\");\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    const user = {\r\n      username: data.get(\"email\"),\r\n      password: data.get(\"password\"),\r\n    };\r\n\r\n    // console.log(user);\r\n\r\n    fetch(\"https://petition-rate.herokuapp.com/signup\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(user),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        localStorage.setItem(\"token\", data.token);\r\n        const isSignedUp = data.isSignedUp;\r\n        setRegister(isSignedUp);\r\n        setErrMessage(data.message);\r\n        if (isSignedUp) {\r\n          history.push(\"/signin\");\r\n        }\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://petition-rate.herokuapp.com/ssUserAuth\", {\r\n      headers: {\r\n        \"x-access-token\": localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => (data.isLoggedIn ? history.push(\"/home\") : null))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <ResponsiveAppBar />\r\n      <Grow in>\r\n        <Container\r\n          component=\"main\"\r\n          maxWidth=\"xs\"\r\n          style={{ \"margin-top\": \"150px\" }}\r\n        >\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}></Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign Up\r\n            </Typography>\r\n            <Box\r\n              component=\"form\"\r\n              onSubmit={handleSubmit}\r\n              noValidate\r\n              sx={{ mt: 1 }}\r\n            >\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n              \r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                Create the account\r\n              </Button>\r\n              {register ? (\r\n                <p className=\"success_message\">You Are Registered Successfully</p>\r\n              ) : ErrMessage ? (\r\n                <p className=\"err_message\">Username or email has been taken!</p>\r\n              ) : <p className=\"normal_message\">Please Register</p>\r\n            }\r\n            </Box>\r\n          </Box>\r\n        </Container>\r\n      </Grow>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}