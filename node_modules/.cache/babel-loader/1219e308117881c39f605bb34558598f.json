{"ast":null,"code":"import { useHistory } from \"react-router-dom\";\nexport default async function verifyAndLoggingIn() {\n  const history = useHistory();\n\n  try {\n    const res = await fetch(\"http://localhost:5000/isUserAuth\", {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"token\")\n      }\n    });\n    const data = await res.json();\n\n    if (data.isLoggedIn) {\n      history.push(\"/\");\n    }\n  } catch (err) {\n    console.log(\"Error in verifying user\");\n  }\n}","map":{"version":3,"sources":["/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/src/api/verifyAndLoggingIn.js"],"names":["useHistory","verifyAndLoggingIn","history","res","fetch","headers","localStorage","getItem","data","json","isLoggedIn","push","err","console","log"],"mappings":"AAAA,SAASA,UAAT,QAA2B,kBAA3B;AAEA,eAAe,eAAeC,kBAAf,GAAoC;AACjD,QAAMC,OAAO,GAAGF,UAAU,EAA1B;;AACA,MAAI;AACF,UAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,kCAAD,EAAqC;AAC1DC,MAAAA,OAAO,EAAE;AACP,0BAAkBC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADX;AADiD,KAArC,CAAvB;AAMA,UAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAJ,EAAnB;;AACA,QAAID,IAAI,CAACE,UAAT,EAAqB;AACnBR,MAAAA,OAAO,CAACS,IAAR,CAAa,GAAb;AACD;AACF,GAXD,CAWE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD;AACF","sourcesContent":["import { useHistory } from \"react-router-dom\";\n\nexport default async function verifyAndLoggingIn() {\n  const history = useHistory();\n  try {\n    const res = await fetch(\"http://localhost:5000/isUserAuth\", {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"token\"),\n      },\n    });\n\n    const data = await res.json();\n    if (data.isLoggedIn) {\n      history.push(\"/\");\n    }\n  } catch (err) {\n    console.log(\"Error in verifying user\");\n  }\n}\n"]},"metadata":{},"sourceType":"module"}