{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as React from\"react\";import{AppBar,IconButton,Typography,Menu,Avatar,Button,Tooltip,MenuItem}from\"@material-ui/core\";import Fab from'@material-ui/core/Fab';import AddIcon from'@material-ui/icons/Add';import{useHistory}from\"react-router-dom\";import{useEffect}from\"react\";import\"./ResponsiveAppBar.css\";var ResponsiveAppBar=function ResponsiveAppBar(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorElNav=_React$useState2[0],setAnchorElNav=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),anchorElUser=_React$useState4[0],setAnchorElUser=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isLoggedIn=_React$useState6[0],setIsLoggedIn=_React$useState6[1];function verifyAndLoggingIn(){return _verifyAndLoggingIn.apply(this,arguments);}function _verifyAndLoggingIn(){_verifyAndLoggingIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://petition-rate.herokuapp.com/isUserAuth\",{headers:{\"x-access-token\":localStorage.getItem(\"token\")}});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setIsLoggedIn(data.isLoggedIn);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(\"Error in verifying user\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _verifyAndLoggingIn.apply(this,arguments);}var history=useHistory();var routeChangetoHome=function routeChangetoHome(){history.push(\"/\");};var routeChangeToCreate=function routeChangeToCreate(){history.push(\"/add\");};var routeChangetoMyHome=function routeChangetoMyHome(){history.push(\"/myhome\");};var routeChangetoLogin=function routeChangetoLogin(){history.push(\"/signin\");};var routeChangeToAbout=function routeChangeToAbout(){history.push(\"/about\");};var routeChangeToSignIn=function routeChangeToSignIn(){localStorage.removeItem(\"token\");history.push(\"/signin\");};var routeChangeToSignUp=function routeChangeToSignUp(){history.push(\"/signup\");};var handleOpenUserMenu=function handleOpenUserMenu(event){setAnchorElUser(event.currentTarget);};var handleCloseUserMenu=function handleCloseUserMenu(){setAnchorElUser(null);};useEffect(function(){verifyAndLoggingIn();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AppBar,{position:\"fixed\"},/*#__PURE__*/React.createElement(\"div\",{className:\"nav_bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"nav_left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"nav_title\"},/*#__PURE__*/React.createElement(Typography,{variant:\"h5\"},\"PetitionRate\")),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",className:\"nav_btn\",onClick:routeChangeToAbout},\"About\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",className:\"nav_btn\",onClick:routeChangetoHome},\"Home\")),/*#__PURE__*/React.createElement(\"div\",{className:\"nav_profile\"},isLoggedIn?/*#__PURE__*/React.createElement(Tooltip,{title:\"Create Petition\"},/*#__PURE__*/React.createElement(Button,{size:\"big\",onClick:routeChangeToCreate},/*#__PURE__*/React.createElement(Fab,{variant:\"extended\",color:\"primary\",\"aria-label\":\"add\"},/*#__PURE__*/React.createElement(AddIcon,null),\"Create a Petition\"))):null,/*#__PURE__*/React.createElement(Tooltip,{title:\"Open Profile\"},/*#__PURE__*/React.createElement(IconButton,{onClick:handleOpenUserMenu,sx:{p:0}},/*#__PURE__*/React.createElement(Avatar,{src:\"/broken-image.jpg\"})))),/*#__PURE__*/React.createElement(Menu,{sx:{mt:\"45px\"},id:\"menu-appbar\",anchorEl:anchorElUser,anchorOrigin:{vertical:\"top\",horizontal:\"right\"},keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:Boolean(anchorElUser),onClose:handleCloseUserMenu},isLoggedIn?/*#__PURE__*/React.createElement(MenuItem,{key:\"My Home\",onClick:routeChangetoMyHome},/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"My Home\")):null,isLoggedIn?null:/*#__PURE__*/React.createElement(MenuItem,{key:\"Log In\",onClick:routeChangetoLogin},/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Log In\")),isLoggedIn?/*#__PURE__*/React.createElement(MenuItem,{key:\"Sign Out\",onClick:routeChangeToSignIn},/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Sign Out\")):null,isLoggedIn?null:/*#__PURE__*/React.createElement(MenuItem,{key:\"Sign Up\",onClick:routeChangeToSignUp},/*#__PURE__*/React.createElement(Typography,{textAlign:\"center\"},\"Sign Up\"))))));};export default ResponsiveAppBar;","map":{"version":3,"sources":["/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/src/components/NavigationBar/ResponsiveAppBar.js"],"names":["React","AppBar","IconButton","Typography","Menu","Avatar","Button","Tooltip","MenuItem","Fab","AddIcon","useHistory","useEffect","ResponsiveAppBar","useState","anchorElNav","setAnchorElNav","anchorElUser","setAnchorElUser","isLoggedIn","setIsLoggedIn","verifyAndLoggingIn","fetch","headers","localStorage","getItem","res","json","data","console","log","history","routeChangetoHome","push","routeChangeToCreate","routeChangetoMyHome","routeChangetoLogin","routeChangeToAbout","routeChangeToSignIn","removeItem","routeChangeToSignUp","handleOpenUserMenu","event","currentTarget","handleCloseUserMenu","p","mt","vertical","horizontal","Boolean"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  AppBar,\n  IconButton,\n  Typography,\n  Menu,\n  Avatar,\n  Button,\n  Tooltip,\n  MenuItem,\n} from \"@material-ui/core\";\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport \"./ResponsiveAppBar.css\";\n\nconst ResponsiveAppBar = () => {\n  const [anchorElNav, setAnchorElNav] = React.useState(null);\n  const [anchorElUser, setAnchorElUser] = React.useState(null);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n  async function verifyAndLoggingIn() {\n    try {\n      const res = await fetch(\n        \"https://petition-rate.herokuapp.com/isUserAuth\",\n        {\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\"),\n          },\n        }\n      );\n\n      const data = await res.json();\n      setIsLoggedIn(data.isLoggedIn);\n    } catch (err) {\n      console.log(\"Error in verifying user\");\n    }\n  }\n\n  const history = useHistory();\n  const routeChangetoHome = () => {\n    history.push(\"/\");\n  };\n\n  const routeChangeToCreate = () => {\n    history.push(\"/add\");\n  };\n\n  const routeChangetoMyHome = () => {\n    history.push(\"/myhome\");\n  };\n\n  const routeChangetoLogin = () => {\n    history.push(\"/signin\");\n  };\n\n  const routeChangeToAbout = () => {\n    history.push(\"/about\");\n  };\n\n  const routeChangeToSignIn = () => {\n    localStorage.removeItem(\"token\");\n    history.push(\"/signin\");\n  };\n\n  const routeChangeToSignUp = () => {\n    history.push(\"/signup\");\n  };\n\n  const handleOpenUserMenu = (event) => {\n    setAnchorElUser(event.currentTarget);\n  };\n\n  const handleCloseUserMenu = () => {\n    setAnchorElUser(null);\n  };\n\n  useEffect(() => {\n    verifyAndLoggingIn();\n  }, []);\n\n  return (\n    <div>\n      <AppBar position=\"fixed\">\n        <div className=\"nav_bar\">\n          <div className=\"nav_left\">\n            <div className=\"nav_title\">\n              <Typography variant=\"h5\">PetitionRate</Typography>\n            </div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className=\"nav_btn\"\n              onClick={routeChangeToAbout}\n            >\n              About\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className=\"nav_btn\"\n              onClick={routeChangetoHome}\n            >\n              Home\n            </Button>\n          </div>\n\n          <div className=\"nav_profile\">\n            {isLoggedIn ? (\n              <Tooltip title=\"Create Petition\">\n                <Button size=\"big\" onClick={routeChangeToCreate}>\n                  <Fab variant=\"extended\" color=\"primary\" aria-label=\"add\" >\n                    <AddIcon />\n                    Create a Petition\n                  </Fab>\n                </Button>\n              </Tooltip>\n            ) : null}\n            <Tooltip title=\"Open Profile\">\n              <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\n                <Avatar src=\"/broken-image.jpg\" />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <Menu\n            sx={{ mt: \"45px\" }}\n            id=\"menu-appbar\"\n            anchorEl={anchorElUser}\n            anchorOrigin={{\n              vertical: \"top\",\n              horizontal: \"right\",\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: \"top\",\n              horizontal: \"right\",\n            }}\n            open={Boolean(anchorElUser)}\n            onClose={handleCloseUserMenu}\n          >\n            {isLoggedIn ? (\n              <MenuItem key=\"My Home\" onClick={routeChangetoMyHome}>\n                <Typography textAlign=\"center\">My Home</Typography>\n              </MenuItem>\n            ): null}\n            {isLoggedIn ? null : (\n              <MenuItem key=\"Log In\" onClick={routeChangetoLogin}>\n                <Typography textAlign=\"center\">Log In</Typography>\n              </MenuItem>\n            )}\n            {isLoggedIn ? (\n              <MenuItem key=\"Sign Out\" onClick={routeChangeToSignIn}>\n                <Typography textAlign=\"center\">Sign Out</Typography>\n              </MenuItem>\n            ) : null}\n            {isLoggedIn ? null : (\n              <MenuItem key=\"Sign Up\" onClick={routeChangeToSignUp}>\n                <Typography textAlign=\"center\">Sign Up</Typography>\n              </MenuItem>\n            )}\n          </Menu>\n        </div>\n      </AppBar>\n    </div>\n  );\n};\nexport default ResponsiveAppBar;\n"]},"metadata":{},"sourceType":"module"}