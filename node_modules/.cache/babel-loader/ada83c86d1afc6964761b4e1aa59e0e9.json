{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Container,Typography,Grow,Grid}from'@material-ui/core';import MyPetition from'../Petitions/Petition/MyPetition';import ResponsiveAppBar from'../NavigationBar/ResponsiveAppBar';import'./MyHome.css';var Home=function Home(){var userid=localStorage.getItem(\"userid\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),petitionsCreated=_useState2[0],setCreated=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),petitionsVoted=_useState4[0],setVoted=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUserName=_useState6[1];function getUserName(){return _getUserName.apply(this,arguments);}function _getUserName(){_getUserName=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://petition-rate.herokuapp.com/isUserAuth\",{headers:{\"x-access-token\":localStorage.getItem(\"token\")}});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setUserName(data.username);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(\"Error in verifying user\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _getUserName.apply(this,arguments);}useEffect(function(){// console.log(\"http://localhost:5000/users/\"+userid+\"/votedPetitions\");\nfetch(\"https://petition-rate.herokuapp.com/users/\"+userid+\"/votedPetitions\").then(function(res){return res.json();}).then(function(data){setVoted(data);}).catch(function(err){return console.log(err);});getUserName();},[]);return/*#__PURE__*/React.createElement(Container,{maxWidth:\"lg\"},/*#__PURE__*/React.createElement(ResponsiveAppBar,null),/*#__PURE__*/React.createElement(Grow,{in:true},/*#__PURE__*/React.createElement(Container,{style:{\"margin-top\":\"150px\"}},/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",component:\"div\",gutterBottom:true,style:{color:\"purple\",fontWeight:\"Bold\"}},\"Hi, \",userName),/*#__PURE__*/React.createElement(\"div\",{className:\"two_cols\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col2\"},/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",component:\"div\",gutterBottom:true,style:{color:\"purple\"}},\"My Petition\"),petitionsCreated.map(function(petition){return/*#__PURE__*/React.createElement(\"div\",{className:\"Petition\"},/*#__PURE__*/React.createElement(MyPetition,{petition:petition}));})),/*#__PURE__*/React.createElement(\"div\",{className:\"col2\"},/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",component:\"div\",gutterBottom:true,style:{color:\"purple\"}},\"My Vote\"),petitionsVoted.map(function(petition){return/*#__PURE__*/React.createElement(\"div\",{className:\"Petition\"},/*#__PURE__*/React.createElement(MyPetition,{petition:petition}));}))))));};export default Home;","map":{"version":3,"sources":["/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/src/components/UserProfile/MyHome.js"],"names":["React","useState","useEffect","Container","Typography","Grow","Grid","MyPetition","ResponsiveAppBar","Home","userid","localStorage","getItem","petitionsCreated","setCreated","petitionsVoted","setVoted","userName","setUserName","getUserName","fetch","headers","res","json","data","username","console","log","then","catch","err","color","fontWeight","map","petition"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Typography, Grow, Grid } from '@material-ui/core';\nimport MyPetition from '../Petitions/Petition/MyPetition';\nimport ResponsiveAppBar from '../NavigationBar/ResponsiveAppBar';\nimport './MyHome.css';\nconst Home = () => {\n  const userid = localStorage.getItem(\"userid\");\n  const [petitionsCreated, setCreated] = useState([]);\n  const [petitionsVoted, setVoted] = useState([]);\n  const [userName, setUserName] = useState(\"\");\n\n  async function getUserName() {\n    try {\n      const res = await fetch(\"https://petition-rate.herokuapp.com/isUserAuth\", {\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\"),\n        },\n      });\n      const data = await res.json();\n      setUserName(data.username);\n    } catch (err) {\n      console.log(\"Error in verifying user\");\n    }\n  }\n\n\n  useEffect(() => {\n    // console.log(\"http://localhost:5000/users/\"+userid+\"/votedPetitions\");\n    fetch(\n      \"https://petition-rate.herokuapp.com/users/\" + userid + \"/votedPetitions\"\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        setVoted(data);\n      })\n      .catch((err) => console.log(err));\n      getUserName();\n\n  }, [])\n\n  return (\n    <Container maxWidth=\"lg\">\n      <ResponsiveAppBar />\n      <Grow in>\n        <Container style={{ \"margin-top\": \"150px\" }}>\n        <Typography\n                variant=\"h3\"\n                component=\"div\"\n                gutterBottom\n                style={{ color: \"purple\", fontWeight: \"Bold\"}}\n              >\n              Hi, {userName}\n      </Typography>\n          <div className=\"two_cols\">\n            <div className=\"col2\">\n\n              <Typography\n                variant=\"h3\"\n                component=\"div\"\n                gutterBottom\n                style={{ color: \"purple\" }}\n              >\n                My Petition\n              </Typography>\n\n              {petitionsCreated.map((petition) => (\n                <div className='Petition'>\n                  <MyPetition\n                  petition={petition}\n                    />\n                </div>\n              ))}\n\n            </div>\n            <div className=\"col2\">\n              <Typography\n                variant=\"h3\"\n                component=\"div\"\n                gutterBottom\n                style={{ color: \"purple\" }}\n              >\n                My Vote\n              </Typography>\n              {petitionsVoted.map((petition) => (\n                  <div className='Petition'>\n                    <MyPetition\n                      petition={petition}\n                    />\n                  </div>\n              ))}\n              </div>\n            </div>\n        </Container>\n      </Grow>\n    </Container>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}