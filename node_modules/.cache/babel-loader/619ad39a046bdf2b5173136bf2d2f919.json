{"ast":null,"code":"import _slicedToArray from\"/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ResponsiveAppBar from\"./components/NavigationBar/ResponsiveAppBar\";import axios from\"axios\";import\"./Description.css\";import{makeStyles}from'@material-ui/core/styles';import clsx from'clsx';import Card from'@material-ui/core/Card';import CardHeader from'@material-ui/core/CardHeader';import CardMedia from'@material-ui/core/CardMedia';import CardContent from'@material-ui/core/CardContent';import CardActions from'@material-ui/core/CardActions';import Collapse from'@material-ui/core/Collapse';import Avatar from'@material-ui/core/Avatar';import IconButton from'@material-ui/core/IconButton';import Typography from'@material-ui/core/Typography';import{blue}from'@material-ui/core/colors';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import{Button}from\"@material-ui/core/\";import{useDispatch}from\"react-redux\";import ThumbUpAltIcon from\"@material-ui/icons/ThumbUpAlt\";import{votePetition,deletePetition}from\"./actions/petitions\";var useStyles=makeStyles(function(theme){return{root:{width:'80%'},media:{height:0,paddingTop:'56.25%'},expand:{transform:'rotate(0deg)',marginLeft:'auto',transition:theme.transitions.create('transform',{duration:theme.transitions.duration.shortest})},expandOpen:{transform:'rotate(180deg)'},avatar:{backgroundColor:blue,width:40,height:40}};});var Description=function Description(props){var dispatch=useDispatch();var id=props.match.params.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),createDate=_useState2[0],setCreateDate=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),voteCount=_useState4[0],setVoteCount=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),userName=_useState10[0],setUserName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),voteBy=_useState12[0],setVoteBy=_useState12[1];var classes=useStyles();var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),pic=_useState14[0],setPic=_useState14[1];var userid=localStorage.getItem('userid');var handlevoteCount=function handlevoteCount(){dispatch(votePetition(id,userid));if(!voteBy.includes(userid)){voteBy.push(userid);setVoteCount(voteCount+1);}else{voteBy.splice(voteBy.indexOf(userid),1);setVoteCount(voteCount-1);}};useEffect(function(){axios.get(\"https://petition-rate.herokuapp.com/petitions/\".concat(id)).then(function(result){setTitle(result.data.title);setDescription(result.data.description);setUserName(result.data.creator);setVoteCount(result.data.voteCount);setPic(result.data.selectedFile);setVoteBy(result.data.votedBy);var date=new Date(result.data.createdAt);setCreateDate(date.toString().split(\" \").slice(1,4).join(\" \"));});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"petition_container\"},/*#__PURE__*/React.createElement(ResponsiveAppBar,null),/*#__PURE__*/React.createElement(Card,{className:classes.root},/*#__PURE__*/React.createElement(CardMedia,{className:classes.media,image:pic||\"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\"},title),/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",color:\"textSecondary\",component:\"p\",style:{wordWrap:\"break-word\"}},description)),/*#__PURE__*/React.createElement(CardHeader,{avatar:/*#__PURE__*/React.createElement(Avatar,{\"aria-label\":\"profile_pic\",className:classes.avatar}),title:\"Created by: \"+userName,titleTypographyProps:{variant:'h6'},subheader:\"Date created: \"+createDate}),/*#__PURE__*/React.createElement(\"div\",{className:\"Vote\"},/*#__PURE__*/React.createElement(CardHeader,{title:\"Vote Count: \"+voteCount,titleTypographyProps:{variant:'h6'}}),/*#__PURE__*/React.createElement(Button,{size:\"small\",color:\"primary\",onClick:handlevoteCount},/*#__PURE__*/React.createElement(ThumbUpAltIcon,{fontSize:\"large\"}),\" Vote \",voteCount))));};export default Description;","map":{"version":3,"sources":["/Users/lebronjames/Desktop/F21 Courses/Web Dev/TeamToffee/client/src/Description.js"],"names":["React","useState","useEffect","ResponsiveAppBar","axios","makeStyles","clsx","Card","CardHeader","CardMedia","CardContent","CardActions","Collapse","Avatar","IconButton","Typography","blue","ExpandMoreIcon","Button","useDispatch","ThumbUpAltIcon","votePetition","deletePetition","useStyles","theme","root","width","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","Description","props","dispatch","id","match","params","createDate","setCreateDate","voteCount","setVoteCount","title","setTitle","description","setDescription","userName","setUserName","voteBy","setVoteBy","classes","pic","setPic","userid","localStorage","getItem","handlevoteCount","includes","push","splice","indexOf","get","then","result","data","creator","selectedFile","votedBy","date","Date","createdAt","toString","split","slice","join","wordWrap","variant"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ResponsiveAppBar from \"./components/NavigationBar/ResponsiveAppBar\";\nimport axios from \"axios\";\nimport \"./Description.css\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { blue } from '@material-ui/core/colors';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {Button} from \"@material-ui/core/\";\nimport { useDispatch } from \"react-redux\";\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\nimport { votePetition, deletePetition } from \"./actions/petitions\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '80%',\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%',\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    backgroundColor: blue,\n    width: 40,\n    height: 40\n  },\n}));\n\nconst Description = (props) => {\n  const dispatch = useDispatch();\n  const { id } = props.match.params;\n  const [createDate, setCreateDate] = useState(null);\n  const [voteCount, setVoteCount] = useState(0);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [voteBy, setVoteBy] = useState(\"\");\n  const classes = useStyles();\n  const [pic, setPic] = useState(\"\");\n  const userid = localStorage.getItem('userid');\n  const handlevoteCount = () => {\n    dispatch(votePetition(id, userid));\n    if (!voteBy.includes(userid)) {\n      voteBy.push(userid);\n      setVoteCount(voteCount+1);\n    }else{\n      voteBy.splice(voteBy.indexOf(userid), 1);\n      setVoteCount(voteCount-1);\n    }\n\n  };\n\n  useEffect(() => {\n    axios\n      .get(`https://petition-rate.herokuapp.com/petitions/${id}`)\n      .then((result) => {\n        setTitle(result.data.title);\n        setDescription(result.data.description);\n        setUserName(result.data.creator);\n        setVoteCount(result.data.voteCount);\n        setPic(result.data.selectedFile);\n        setVoteBy(result.data.votedBy);\n        const date = new Date(result.data.createdAt);\n        setCreateDate(date.toString().split(\" \").slice(1, 4).join(\" \"));\n      });\n  }, []);\n\n  return (\n    <div className=\"petition_container\">\n      <ResponsiveAppBar />\n      <Card className={classes.root}>\n      <CardMedia\n        className={classes.media}\n        image={pic || \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\n        }\n      />\n      <CardContent>\n        <Typography variant=\"h5\">\n          {title}\n        </Typography>\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\" style={{ wordWrap: \"break-word\" }}>\n          {description}\n        </Typography>\n      </CardContent>\n      <CardHeader\n        avatar={\n          <Avatar aria-label=\"profile_pic\" className={classes.avatar}>\n          </Avatar>\n        }\n        title= {\"Created by: \"+ userName}\n        titleTypographyProps={{variant:'h6' }}\n        subheader={\"Date created: \" + createDate}\n      />\n      <div className=\"Vote\">\n      <CardHeader\n        title= {\"Vote Count: \"+ voteCount}\n        titleTypographyProps={{variant:'h6' }}\n      />\n      <Button\n          size=\"small\"\n          color=\"primary\"\n          onClick={handlevoteCount}\n        >\n          <ThumbUpAltIcon fontSize=\"large\" /> Vote {voteCount}\n      </Button>\n      </div>\n    </Card>\n    </div>\n  );\n};\n\nexport default Description;\n"]},"metadata":{},"sourceType":"module"}